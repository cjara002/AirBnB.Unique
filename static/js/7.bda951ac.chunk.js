(this.webpackJsonphugobusiness=this.webpackJsonphugobusiness||[]).push([[7],{164:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(15),o=n(17),l=n(16),c=n(18),s=n(0),i=n.n(s),u=(n(72),n(90),function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).submitNewCleaner=function(){n.props.history.push("/cleanersform")},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"content-heading"},"Cleaners",i.a.createElement("div",{className:"ml-auto"},i.a.createElement("em",{className:"fa-1x mr-2 fas fa-search",id:"searchProfiles",style:{cursor:"pointer"},"data-toggle":"tooltip",title:"Search Cleaners"})," ",i.a.createElement("em",{className:"fa-1x mr-2 fas fa-user-plus",onClick:this.submitNewCleaner,style:{cursor:"pointer"},"data-toggle":"tooltip",title:"Add Cleaner"}))))}}]),t}(i.a.Component)),p=n(26),d=n(73),m=n(163),f=n(157),h=n(158),E=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={optionsOpen:!1},n.showMenu=function(){n.setState((function(e){return{optionsOpen:!e.optionsOpen}}))},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{isOpen:this.props.isModal},i.a.createElement(f.a,{toggle:this.props.toggle},i.a.createElement("div",null,this.props.single[0]&&this.props.single[0].name)),i.a.createElement(h.a,null,i.a.createElement("div",{className:"ml-auto",id:"menuShortcut"},i.a.createElement("div",{className:"dropdown"},i.a.createElement("button",{type:"button","aria-haspopup":"true","aria-expanded":"false",className:"btn btn-outline-secondary",onClick:this.showMenu},i.a.createElement("em",{className:"fa fa-ellipsis-h fa-lg",id:"toggleButton"})),i.a.createElement("div",{tabIndex:-1,role:"menu","aria-hidden":"true",className:this.state.optionsOpen?"dropdown-menu-right-forced animated fadeInLeft dropdown-menu show":"dropdown-menu-right-forced animated fadeInLeft dropdown-menu","x-placement":"bottom-start",style:{position:"absolute",willChange:"transform",top:0,left:0,transform:"translate3d(-106px, 31px, 0px)"},"data-placement":"bottom-start",id:"subMenu"},i.a.createElement("button",{type:"button",tabIndex:0,className:"dropdown-item",id:"subMenuIcon",onClick:function(){return e.props.updateContact(e.props.single[0].id)}},i.a.createElement("em",{className:"fa-fw fa fa-plus mr-2"}),i.a.createElement("span",null,"Edit contact")),i.a.createElement("button",{type:"button",tabIndex:0,className:"dropdown-item",id:"subMenuIcon",onClick:function(){return e.props.deleteContact(e.props.single[0].id)}},i.a.createElement("em",{className:"fa-fw fas fa-minus mr-2"}),i.a.createElement("span",null,"Delete contact"))))),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"verticalCenter"},i.a.createElement("img",{className:" mb-2 rounded-circle-thumb32",src:this.props.single[0]&&this.props.single[0].imageUrl,alt:"Contact",id:"profilePhoto"}),i.a.createElement("h5",null," City: ",this.props.single[0]&&this.props.single[0].city),i.a.createElement("p",null,this.props.single[0]&&this.props.single[0].description),i.a.createElement("span",null,"Years in operation: ",this.props.single[0]&&this.props.single[0].yearsInOperation))))))}}]),t}(i.a.Component),g=n(105),C=n.n(g),b=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={modal:!1},n.showModal=function(e){n.props.GetSingleCleaner(e);var t=n.props.singleCleaner;n.setState((function(e){return{modal:!e.modal,singleCleaner:t}}),console.log("showModal:",n.state.singleCleaner))},n.toggle=function(){n.setState((function(e){return{modal:!e.modal}}))},n.updateSingleContact=function(e){n.props.history.push("/cleanersform/".concat(e,"/edit"))},n.deleteContactUserConfirmation=function(e){C.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#042A38",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&n.deleteSingleCleaner(e)}))},n.deleteSingleCleaner=function(e){n.props.deleteCleaner(e),C.a.fire("Deleted!")},n.onDeleteSuccess=function(){n.props.getCleaners()},n.onDeleteError=function(){C.a.fire("Something is not right. Please try again.","error")},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getCleaners()}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},this.props&&this.props.cleaners.map((function(t){return i.a.createElement("div",{className:"col-sm-6 col-lg-4",key:t.id},i.a.createElement("div",{className:"card-default card",id:"contactMenu"},i.a.createElement("div",{className:"text-center card-body",id:"contactCard"},i.a.createElement("img",{className:" mb-2 rounded-circle-thumb32",src:t.imageUrl,alt:"Contact",id:"profilePhoto"}),i.a.createElement("h4",null,t.name),i.a.createElement("h5",{className:"text-white"},"  ",t.city)),i.a.createElement("div",{className:"d-flex card-footer"},i.a.createElement("button",{type:"button",className:"btn btn-dark btn-lg btn-block",onClick:function(){return e.showModal(t.id)}},"View Contact"))))})),i.a.createElement(E,{single:this.props.singleCleaner,isModal:this.state.modal,toggle:this.toggle,updateContact:this.updateSingleContact,deleteContact:this.deleteContactUserConfirmation})))}}]),t}(i.a.Component);var y=Object(p.b)((function(e){return{cleaners:e.cleaners,singleCleaner:e.singleCleaner}}),{getCleaners:d.d,GetSingleCleaner:d.a,deleteCleaner:d.c})(b),N=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={imageLoaded:!1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"content-wrapper"},i.a.createElement(u,{history:this.props.history}),i.a.createElement(y,{history:this.props.history})))}}]),t}(i.a.Component);t.default=N},73:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return i}));var a=n(91),r=n.n(a),o=function(e){return function(e){e({type:"FETCH_CLEANERS_START"}),r.a.get("https://localhost:5001/api/cleaners").then((function(t){e({type:"RECEIVE_CLEANERS",payload:t.data})})).catch((function(t){e({type:"FETCH_CLEANERS_ERROR",payload:t})}))}},l=function(e){return function(t){r.a.post("https://localhost:5001/api/cleaners",e).then((function(e){t({type:"ADD_CLEANER",payload:e.data})})).catch((function(e){t({type:"ADD_CLEANER_ERROR",payload:e})}))}},c=function(e){return function(t){r.a.get("https://localhost:5001/api/cleaners/".concat(e)).then((function(e){t({type:"GET_SINGLE_CLEANER",payload:e.data})})).catch((function(e){t({type:"GET_SINGLE_CLEANER_ERROR",payload:e})}))}},s=function(e){return function(t){r.a.put("https://localhost:5001/api/cleaners/".concat(e.id),e).then((function(e){t({type:"UPDATE_CLEANER",payload:e.data})})).catch((function(e){t({type:"UPDATE_CLEANER_ERROR",payload:e})}))}},i=function(e){return function(t){r.a.delete("https://localhost:5001/api/cleaners/".concat(e)).then((function(e){t({type:"DELETE_CLEANER",payload:e.data})})).catch((function(e){t({type:"DELETE_CLEANER_ERROR",payload:e})}))}}},90:function(e,t,n){}}]);
//# sourceMappingURL=7.bda951ac.chunk.js.map