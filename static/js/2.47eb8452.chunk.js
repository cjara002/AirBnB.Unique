(this.webpackJsonphugobusiness=this.webpackJsonphugobusiness||[]).push([[2],{166:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t(15),i=t(17),o=t(16),c=t(18),s=t(0),l=t.n(s),u=t(156),m=t(155),p=m.a().shape({name:m.b().min(1,"Your name is too short.").max(100,"Your name cannot be over 100 characters.").required("Name is required."),yearsinoperation:m.b().required("Number of years is required."),imageurl:m.b().min(1,"The link is too short.").max(255,"The image URL should be less than 255 charcters.").required("A photo is required."),city:m.b().min(1,"Your city name is too short.").max(50,"Your city name cannot be over 50 charcters.").required("A city is required"),description:m.b().min(1,"Your description is too short.").max(250,"Your description cannot exceed 250 characters.").required("A description is required.")}),d=(t(72),t(159)),E=t(160),h=t(161),f=t(162),y=t(26),b=t(73),g=t(105),C=t.n(g),N=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(t=Object(i.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(c)))).state={formData:{name:"",yearsinoperation:"",imageurl:"",city:"",description:""},isEditing:!1},t.handleSubmit=function(e){t.state.isEditing?t.props.updateCleaner(e).then(t.onUpdateSuccess).catch(t.onUpdateError):t.props.addCleaner(e).then(t.addCleanerSuccess).catch(t.addCleanerError)},t.addCleanerSuccess=function(){C.a.fire("New Cleaner Added.","success"),t.props.history.push("/cleaners")},t.addCleanerError=function(){C.a.fire("Something is not right. Please try again.","error")},t.onUpdateSuccess=function(){C.a.fire("Cleaner Updated.","success"),t.props.history.push("/cleaners")},t.onUpdateError=function(){C.a.fire("Something is not right. Please try again.","error")},t.onCancel=function(){t.props.history.push("/cleaners")},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params&&this.props.match.params.id&&(this.props.GetSingleCleaner(this.props.match.params.id),this.setState((function(){return{formData:{name:e.props.singleCleaner[0].name,yearsinoperation:e.props.singleCleaner[0].yearsInOperation,imageurl:e.props.singleCleaner[0].imageUrl,city:e.props.singleCleaner[0].city,description:e.props.singleCleaner[0].description,id:e.props.singleCleaner[0].id},isEditing:!0}}),console.log("showFormData:",this.state.formData)))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.b,{enableReinitialize:!0,validationSchema:p,initialValues:this.state.formData,onSubmit:this.handleSubmit},(function(a){var t=a.values,n=a.touched,r=a.errors,i=a.handleSubmit,o=a.isValid,c=a.isSubmitting;return l.a.createElement("div",{className:"col-6"},l.a.createElement(d.a,{onSubmit:i},l.a.createElement(E.a,{row:!0},l.a.createElement(h.a,{sm:10},l.a.createElement(f.a,null,"Name "),l.a.createElement(u.a,{name:"name",type:"text",value:t.name,className:r.name&&n.name?"form-control error":"form-control"}),r.name&&n.name&&l.a.createElement("span",{className:"input-feedback text-danger"},r.name))),l.a.createElement(E.a,{row:!0},l.a.createElement(h.a,{sm:10},l.a.createElement(f.a,null,"Years In Operation "),l.a.createElement(u.a,{name:"yearsinoperation",type:"number",value:t.yearsinoperation,className:r.yearsinoperation&&n.yearsinoperation?"form-control error":"form-control"}),r.yearsinoperation&&n.yearsinoperation&&l.a.createElement("span",{className:"input-feedback text-danger"},r.yearsinoperation))),l.a.createElement(E.a,{row:!0},l.a.createElement(h.a,{sm:10},l.a.createElement(f.a,null,"Image "),l.a.createElement(u.a,{name:"imageurl",type:"text",value:t.imageurl,className:r.imageurl&&n.imageurl?"form-control error":"form-control"}),r.imageurl&&n.imageurl&&l.a.createElement("span",{className:"input-feedback text-danger"},r.imageurl))),l.a.createElement(E.a,{row:!0},l.a.createElement(h.a,{sm:10},l.a.createElement(f.a,null,"City "),l.a.createElement(u.a,{name:"city",value:t.city,className:r.city&&n.city?"form-control error":"form-control"}),r.city&&n.city&&l.a.createElement("span",{className:"input-feedback text-danger"},r.city))),l.a.createElement(E.a,{row:!0},l.a.createElement(h.a,{sm:10},l.a.createElement(f.a,null,"Description "),l.a.createElement(u.a,{name:"description",component:"textarea",rows:"5",value:t.description,className:r.description&&n.description?"form-control error":"form-control"}),r.description&&n.description&&l.a.createElement("span",{className:"input-feedback text-danger"},r.description))),l.a.createElement(E.a,null,l.a.createElement("button",{className:"btn btn-outline-custom",type:"submit",onClick:e.onCancel},"Cancel"),e.state.isEditing?l.a.createElement("button",{className:"btn btn-outline-custom",type:"submit",disabled:!o||c},"Update"):l.a.createElement("button",{className:"btn btn-outline-custom",type:"submit",disabled:!o||c},"Add"))))})))}}]),a}(l.a.Component);a.default=Object(y.b)((function(e){return{singleCleaner:e.singleCleaner}}),{addCleaner:b.b,GetSingleCleaner:b.a,updateCleaner:b.e})(N)},73:function(e,a,t){"use strict";t.d(a,"d",(function(){return i})),t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return c})),t.d(a,"e",(function(){return s})),t.d(a,"c",(function(){return l}));var n=t(91),r=t.n(n),i=function(e){return function(e){e({type:"FETCH_CLEANERS_START"}),r.a.get("https://localhost:5001/api/cleaners").then((function(a){e({type:"RECEIVE_CLEANERS",payload:a.data})})).catch((function(a){e({type:"FETCH_CLEANERS_ERROR",payload:a})}))}},o=function(e){return function(a){r.a.post("https://localhost:5001/api/cleaners",e).then((function(e){a({type:"ADD_CLEANER",payload:e.data})})).catch((function(e){a({type:"ADD_CLEANER_ERROR",payload:e})}))}},c=function(e){return function(a){r.a.get("https://localhost:5001/api/cleaners/".concat(e)).then((function(e){a({type:"GET_SINGLE_CLEANER",payload:e.data})})).catch((function(e){a({type:"GET_SINGLE_CLEANER_ERROR",payload:e})}))}},s=function(e){return function(a){r.a.put("https://localhost:5001/api/cleaners/".concat(e.id),e).then((function(e){a({type:"UPDATE_CLEANER",payload:e.data})})).catch((function(e){a({type:"UPDATE_CLEANER_ERROR",payload:e})}))}},l=function(e){return function(a){r.a.delete("https://localhost:5001/api/cleaners/".concat(e)).then((function(e){a({type:"DELETE_CLEANER",payload:e.data})})).catch((function(e){a({type:"DELETE_CLEANER_ERROR",payload:e})}))}}}}]);
//# sourceMappingURL=2.47eb8452.chunk.js.map